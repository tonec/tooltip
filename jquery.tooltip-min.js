!function(t){t.fn.tooltip=function(e){function o(e){var o=t(e.target);o.hasClass("tt-open")?a(e):s(e)}function s(e){var o=t(e.target),s=o.closest("a[data-ti]").attr("data-ti"),a=t("#tt-"+s);e.preventDefault(),e.stopPropagation(),i(e),l(o,a),a.css("display","block"),o.addClass("tt-open")}function a(e){var o=t(e.target),s=o.closest("a[data-ti]").attr("data-ti"),a=t("#tt-"+s);e.preventDefault(),e.stopPropagation(),l(o,a),a.css("display","none"),o.removeClass("tt-open")}function i(e){t(e.target)&&t("."+h).filter(":visible").css("display","none").parents(".frstip").removeClass("tt-open")}function n(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?!0:!1}function l(e,o){var s=0,a=0,i=t(window).scrollTop(),n=t(window).width(),l=e.width(),c=e.height(),r=e.offset().left,p=e.offset().top,h=o.width(),d=o.height();s=r+l/2-h/2,a=p-d+u,0>r-h/2?(s+=h/2,o.addClass("left")):o.removeClass("left"),r+h/2>n?(s-=n-r,o.addClass("right")):o.removeClass("right"),i>p-d?(o.addClass("bottom"),s-=f,a=a+d+c):o.removeClass("bottom"),o.css({left:s,top:a})}t.fn.tooltip.options={actionTouch:"click",actionDesktop:"hover",contentSrc:"text",ttContainerClass:"tip",ttTargetClass:"tip-target",ttClass:"tip-content",replacetarget:!1,tipTarget:'<span class="tt">?</span>',tpl:"<span><%=content%></span>",inheritedAttribute:!1,offsetAboveX:0,offsetAboveY:0,offsetBelowX:0,offsetBelowY:0,tooltipOverlap:0},e=t.extend({},t.fn.tooltip.options,e);var c=0,r=e.ttClass,p=e.ttTargetClass.replace(/ /g,"."),h=r.replace(/ /g,"."),d=e.ttContainerClass,f=e.offsetAboveX,u=e.offsetAboveY,v=e.offsetBelowX,m=e.offsetBelowY,C;this.tooltipNumcache=this.tooltipNumcache||[],C=n()?e.actionTouch:e.actionDesktop,t(this).each(function(){do c++;while(c<=this.tooltipNumcache);this.tooltipNumcache=c;var n=t(e.tipTarget),l="",h={},f="";switch(t(this).addClass(p).attr("data-ti",c),l='<div class="'+r+'" id="tt-'+c+'">'+e.tpl+"</div>",e.contentSrc){case"text":h.content=t(this).text();break;case"html":h.content=t(this).html();break;case"title":h.content=t(this).attr("title"),t(this).attr("title","");break;case"alt":h.content=t(this).attr("alt");break;default:h.content=t(this).text()}f=tmpl(l,h),f=t(f).css({display:"none",position:"absolute","z-index":"1000"}),t(this).removeClass().addClass(d),e.replaceTarget&&t(this).html(n),t(this).parent().addClass("has-frstip"),t("body").append(f),"hover"===C&&t(this).mouseenter(s).mouseleave(a),"click"===C&&t(this).on(C,o),t("html, body").on("click",i),t(window).on("throttledresize",i)})}}(jQuery);